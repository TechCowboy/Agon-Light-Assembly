    1 00:0000 -  -  -  -  ;
    2 00:0000 -  -  -  -  ; Title:	Hello World - Main
    3 00:0000 -  -  -  -  ; Author:	Dean Belfield, Reinhard Schu
    4 00:0000 -  -  -  -  ; Created:	06/11/2022
    5 00:0000 -  -  -  -  ; Last Updated:	09/12/2022
    6 00:0000 -  -  -  -  
    7 00:0000 -  -  -  -  ; define or undefine ADL (24-bit) mode
    8 00:0000 -  -  -  -  	#define ADL
    9 00:0000 -  -  -  -  ;	#undefine ADL
   10 00:0000 -  -  -  -  
   11 00:0000 -  -  -  -  #include "../include/init.asm"
Listing for file "/home/reiny/Agon Light/Agon-Light-Assembly/hello_world/../include/init.asm"
    1 00:0000 -  -  -  -  ;
    2 00:0000 -  -  -  -  ; Title:	Initialisation Code
    3 00:0000 -  -  -  -  ; Author:	Dean Belfield, Reinhard Schu
    4 00:0000 -  -  -  -  ; Created:	06/11/2022
    5 00:0000 -  -  -  -  ; Last Updated:	09/12/2022
    6 00:0000 -  -  -  -  ;
    7 00:0000 -  -  -  -  #ifdef ADL
    8 00:0000 -  -  -  -  			; Start in ADL mode
    9 00:0000 -  -  -  -  			.ASSUME	ADL = 1
   10 00:0000 -  -  -  -  			; Set Code location to $40000 (MOS default user RAM)
   11 00:0000 -  -  -  -  			.ORG $40000
   12 04:0000 -  -  -  -  #else
   13 04:0000             			.ASSUME	ADL = 0
   14 04:0000             			; Set Code location to $0000 (as we are in 16-bit mode)
   15 04:0000             			.ORG $0000
   16 04:0000             #endif
   17 04:0000 -  -  -  -  
   18 04:0000 18 43 -  -  			JR		_START		; Jump to start
   19 04:0002 00 00 00 00 
              00 00 -  -  			.BLOCK	6
   20 04:0008 -  -  -  -  
   21 04:0008 -  -  -  -  #ifdef ADL
   22 04:0008 -  -  -  -  			; if in ADL (24-bit) mode, fill; with 0 up to byte $40 (MOS header)
   23 04:0008 00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 
              00 00 00 00 			.BLOCK $38
   24 04:0040 -  -  -  -  #else
   25 04:0040             			; set RST vectors if in Z80 compatibility (16-bit) mode
   26 04:0040             			; which will call the "real" RST vector
   27 04:0040             
   28 04:0040             RST_08:		RST.LIS		08h		; API call
   29 04:0040             			RET
   30 04:0040             			.BLOCK	5
   31 04:0040             			
   32 04:0040             RST_10:		RST.LIS 	10h		; Output
   33 04:0040             			RET
   34 04:0040             			.BLOCK	5
   35 04:0040             			
   36 04:0040             RST_18:		.BLOCK	8
   37 04:0040             RST_20:		.BLOCK	8
   38 04:0040             RST_28:		.BLOCK	8
   39 04:0040             RST_30:		.BLOCK	8	
   40 04:0040             ;	
   41 04:0040             ; The NMI interrupt vector (not currently used by AGON)
   42 04:0040             ;
   43 04:0040             RST_38:		EI
   44 04:0040             			RETI
   45 04:0040             			.BLOCK  5
   46 04:0040             #endif
   47 04:0040 -  -  -  -  
   48 04:0040 -  -  -  -  ; The header stuff is from byte $40 onwards
   49 04:0040 -  -  -  -  
   50 04:0040 4D 4F 53 -              .DB		"MOS"	; Flag for MOS - to confirm this is a valid MOS command
   51 04:0043 00 -  -  -  			.DB		0		; MOS header version 0
   52 04:0044 -  -  -  -  #ifdef ADL
   53 04:0044 01 -  -  -  			.DB		1		; Flag for run mode (0: Z80, 1: ADL)
   54 04:0045 -  -  -  -  #else
   55 04:0045             			.DB		0
   56 04:0045             #endif
   57 04:0045 -  -  -  -  ;
   58 04:0045 -  -  -  -  ; And the code follows on immediately after the header
   59 04:0045 -  -  -  -  ;
   60 04:0045 FB -  -  -  _START:		EI				; Enable the MOS interrupts
   61 04:0046 CD 53 00 04 			CALL	MAIN	; Start user Code
   62 04:004A -  -  -  -  #ifdef ADL
   63 04:004A C9 -  -  -  			RET
   64 04:004B -  -  -  -  #else
   65 04:004B             			RET.L
   66 04:004B             #endif
Listing for file "/home/reiny/Agon Light/Agon-Light-Assembly/hello_world/hello_world.asm"
   12 04:004B -  -  -  -  #include "../include/basic_routines.asm"
Listing for file "/home/reiny/Agon Light/Agon-Light-Assembly/hello_world/../include/basic_routines.asm"
    1 04:004B -  -  -  -  ;
    2 04:004B -  -  -  -  ; Title:	Basic Routines
    3 04:004B -  -  -  -  ; Author:	Dean Belfield, Reinhard Schu
    4 04:004B -  -  -  -  ; Created:	06/11/2022
    5 04:004B -  -  -  -  ; Last Updated:	10/12/2022
    6 04:004B -  -  -  -  ;
    7 04:004B -  -  -  -  
    8 04:004B -  -  -  -  ; Print a zero-terminated string
    9 04:004B -  -  -  -  ;
   10 04:004B 7E -  -  -  PRSTR:	LD		A,(HL)
   11 04:004C B7 -  -  -  		OR		A
   12 04:004D C8 -  -  -  		RET		Z
   13 04:004E -  -  -  -  #ifdef ADL
   14 04:004E 5B D7 -  -  		RST.LIL	$10
   15 04:0050 -  -  -  -  #else
   16 04:0050                 	RST		$10
   17 04:0050             #endif
   18 04:0050 23 -  -  -  		INC		HL
   19 04:0051 18 F8 -  -  		JR		PRSTR
Listing for file "/home/reiny/Agon Light/Agon-Light-Assembly/hello_world/hello_world.asm"
   13 04:0053 -  -  -  -  
   14 04:0053 -  -  -  -  ; The main routine
   15 04:0053 -  -  -  -  ;
   16 04:0053 21 60 00 04 MAIN:	LD		HL, HELLO_WORLD
   17 04:0057 CD 4B 00 04 		CALL	PRSTR
   18 04:005B 21 00 00 00 		LD		HL, 0
   19 04:005F C9 -  -  -  		RET
   20 04:0060 -  -  -  -  	
   21 04:0060 -  -  -  -  ; Sample text
   22 04:0060 -  -  -  -  ;
   23 04:0060 48 65 6C 6C 
              6F 20 57 6F 
              72 6C 64 0A 
              0D 00 -  -  HELLO_WORLD:		.DB 	"Hello World\n\r",0
   24 04:006E -  -  -  -  
